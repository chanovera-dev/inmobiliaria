.site-main {
    & #testimonies.block {
        padding: 100px 0;
        background-color: light-dark(var(--wp--preset--color--base), var(--base-dark));

        & .content:nth-child(1) {
            text-align: center;
            padding-bottom: 50px;

            & .title-section {
                font-size: calc(var(--wp--preset--font-size--x-large) + 2dvw);
                line-height: 1.4;
                margin-bottom: 1.2rem;
            }

            & > p {
                max-width: 728px;
                margin-inline: auto;
            }
        }

        & .container {
            width: 100%;
            overflow: hidden;
            position: relative;

            & .slideshow-wrapper {
                height: 100%;
                position: relative;
                width: 100%;
                overflow: hidden;

                &.avatars {
                    width: 20%;
                    left: 50%;
                    transform: translateX(-50%);
                    overflow: visible;

                    & .slideshow {
                        display: flex;
                        height: 100px;
                        overflow: hidden;
                        padding-left: 0;
                        list-style: none;
                        align-items: center;

                        & li {
                            &.active {
                                & .testimonial-media {
                                    & img {
                                        max-width: 100px;
                                        max-height: 100px;
                                    }
                                }
                            }

                            & .testimonial-media {

                                & img {
                                    max-width: 80px;
                                    max-height: 80px;
                                    border-radius: 50%;
                                    margin-inline: auto;
                                    transition: max-width .3s ease, max-height .3s ease;
                                }
                            }
                        }
                    }

                    & .slideshow-bullets-wrapper {
                        display: none;
                    }
                }
                
                &.cards {
                    & .slideshow {
                        display: flex;
                        height: 100%;
                        overflow: hidden;
                        padding-left: 0;
                        list-style: none;
                        padding: 70px 0;

                        & li {
                            padding: 0 15px;
                            display: grid;

                            & .testimonial {
                                display: grid;
                                gap: 1rem;
                                position: relative;
                                background-color: light-dark(var(--wp--preset--color--secondary), var(--secondary-dark));
                                border-radius: 1.5rem;
                                padding: 1rem;
                                overflow: hidden;
                                box-shadow: rgba(17, 12, 46, 0.15) 0px 24px 50px 0px;

                                & .testimonial-content {
                                    display: grid;
                                    grid-template-rows: auto 1fr;
                                    gap: 1.5rem;
                                    height: 100%;
                                    background-color: light-dark(var(--green--lighter-plus), var(--green--lighter-plus));
                                    padding: 20px;
                                    border-radius: 1rem;

                                    & .testimonial-header {
                                        display: grid;
                                        grid-template-columns: auto 1fr;
                                        grid-templates-rows: auto auto;
                                        gap: 0 1rem;

                                        & .testimonial-media {
                                            grid-column: 1 / 2;
                                            grid-row: 1 / 3;

                                            & img {
                                                width: 50px;
                                                height: 50px;
                                                border-radius: 50%;
                                            }
                                        }
                                    }

                                    & .testimonial-quote {
                                        align-self: end;
                                    }
                                }
                            }
                        }
                    }

                    & .slideshow-bullets-wrapper {
                        display: flex;
                        justify-content: center;
                        gap: 1rem;
                        & .slideshow-bullets {
                            display: none;
                        }
                    }
                }
            }
        }
    }
}

@media (width < 768px) {
    .site-main {
        & #testimonies.block {
            & .container {
                & .slideshow-wrapper {
                    &.avatars {
                        display: none;
                    }
                }
            }
        }
    }
}

@media (width >= 768px) {
    .site-main {
        & #testimonies.block {
            & .container {
                & .slideshow-wrapper {
                    &.cards {
                        & .slideshow {
                            & li {
                                & .testimonial {
                                    grid-template-columns: auto 1fr;
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}

@media (width >= 1024px) {
    .site-main {
        & #testimonies.block {
            & .container {
                &::before {
                    position: absolute;
                    content: '';
                    top: 0;
                    left: 0;
                    width: 20%;
                    height: 100%;
                    background: linear-gradient(to right, light-dark(var(--wp--preset--color--base), var(--base-dark)) 0%, transparent 100%);
                    z-index: 1;
                }

                &::after {
                    position: absolute;
                    content: '';
                    top: 0;
                    right: 0;
                    width: 20%;
                    height: 100%;
                    background: linear-gradient(to left, light-dark(var(--wp--preset--color--base), var(--base-dark)) 0%, transparent 100%);
                    z-index: 1;
                }

                & .slideshow-wrapper {
                    &.cards {
                        width: 50%;
                        left: 50%;
                        transform: translateX(-50%);
                        overflow: visible;
                    }

                    &.avatars {
                        width: 12%;
                    }
                }
            }
        }
    }
}

@media (width >= 1366px) {
    .site-main {
        & #testimonies.block {
            & .container {
                & .slideshow-wrapper {
                    &.avatars {
                        width: 10%;
                    }

                    &.cards {
                        width: 40%;
                    }
                }
            }
        }
    }
}

body.is-chromium {
    .site-main {
        & #testimonies.block {
            & .container {
                & .slideshow-wrapper {
                    &.cards {
                        & .slideshow {
                            & li {
                                & .testimonial {
                                    border-radius: 3rem;
                                    corner-shape: squircle;

                                    & .testimonial-content {
                                        border-radius: 2rem;
                                        corner-shape: squircle;
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}